<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1798.3333px" preserveAspectRatio="none" style="width:1880px;height:1798px;background:#FFFFFF;" version="1.1" viewBox="0 0 1880 1798" width="1880px" zoomAndPan="magnify"><title>AI &#23545;&#35805;&#35843;&#29992;&#38142;&#65288;AiService.chatText&#65289;</title><defs/><g><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" font-weight="bold" lengthAdjust="spacing" textLength="407.5151" x="737.1272" y="52.0665">AI &#23545;&#35805;&#35843;&#29992;&#38142;&#65288;AiService.chatText&#65289;</text><rect fill="none" height="939.2926" style="stroke:#000000;stroke-width:2.5;" width="1779.2654" x="87.5041" y="434.7331"/><rect fill="none" height="546.5862" style="stroke:#000000;stroke-width:2.5;" width="1745.932" x="104.1708" y="815.7729"/><rect fill="none" height="261.6264" style="stroke:#000000;stroke-width:2.5;" width="1185.9772" x="120.8375" y="1089.066"/><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="User" id="part1-lifeline"><g><title>..</title><rect fill="#000000" fill-opacity="0.00000" height="1446.3596" width="13.3333" x="29.9999" y="210.9064"/><line style="stroke:#181818;stroke-width:0.8333;stroke-dasharray:8.3333,8.3333;" x1="35" x2="35" y1="210.9064" y2="1657.2659"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="ToolUI" id="part2-lifeline"><g><title>....</title><rect fill="#000000" fill-opacity="0.00000" height="1446.3596" width="13.3333" x="295.6518" y="210.9064"/><line style="stroke:#181818;stroke-width:0.8333;stroke-dasharray:8.3333,8.3333;" x1="300.8375" x2="300.8375" y1="210.9064" y2="1657.2659"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="AiSvc" id="part3-lifeline"><g><title>AiService</title><rect fill="#000000" fill-opacity="0.00000" height="1446.3596" width="13.3333" x="716.5888" y="210.9064"/><line style="stroke:#181818;stroke-width:0.8333;stroke-dasharray:8.3333,8.3333;" x1="721.644" x2="721.644" y1="210.9064" y2="1657.2659"/></g></g><g class="participant-lifeline" data-entity-uid="part4" data-qualified-name="AiCfg" id="part4-lifeline"><g><title>AiConfigService</title><rect fill="#000000" fill-opacity="0.00000" height="1446.3596" width="13.3333" x="1003.2306" y="210.9064"/><line style="stroke:#181818;stroke-width:0.8333;stroke-dasharray:8.3333,8.3333;" x1="1009.7426" x2="1009.7426" y1="210.9064" y2="1657.2659"/></g></g><g class="participant-lifeline" data-entity-uid="part5" data-qualified-name="Client" id="part5-lifeline"><g><title>OpenAiClient</title><rect fill="#000000" fill-opacity="0.00000" height="1446.3596" width="13.3333" x="1200.1" y="210.9064"/><line style="stroke:#181818;stroke-width:0.8333;stroke-dasharray:8.3333,8.3333;" x1="1206.7186" x2="1206.7186" y1="210.9064" y2="1657.2659"/></g></g><g class="participant-lifeline" data-entity-uid="part6" data-qualified-name="Api" id="part6-lifeline"><g><title>OpenAI .. API</title><rect fill="#000000" fill-opacity="0.00000" height="1446.3596" width="13.3333" x="1631.0036" y="210.9064"/><line style="stroke:#181818;stroke-width:0.8333;stroke-dasharray:8.3333,8.3333;" x1="1636.9043" x2="1636.9043" y1="210.9064" y2="1657.2659"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="User" id="part1-head"><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="46.6665" x="8.3333" y="204.1864">&#29992;&#25143;</text><ellipse cx="36.6666" cy="91.2865" fill="#E2E2F0" rx="13.3333" ry="13.3333" style="stroke:#181818;stroke-width:0.8333;"/><path d="M36.6666,104.6199 L36.6666,149.6199 M14.9999,117.9532 L58.3332,117.9532 M36.6666,149.6199 L14.9999,174.6199 M36.6666,149.6199 L58.3332,174.6199" fill="none" style="stroke:#181818;stroke-width:0.8333;"/></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="User" id="part1-tail"><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="46.6665" x="8.3333" y="1682.6658">&#29992;&#25143;</text><ellipse cx="36.6666" cy="1703.5524" fill="#E2E2F0" rx="13.3333" ry="13.3333" style="stroke:#181818;stroke-width:0.8333;"/><path d="M36.6666,1716.8858 L36.6666,1761.8858 M14.9999,1730.2191 L58.3332,1730.2191 M36.6666,1761.8858 L14.9999,1786.8858 M36.6666,1761.8858 L58.3332,1786.8858" fill="none" style="stroke:#181818;stroke-width:0.8333;"/></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="ToolUI" id="part2-head"><rect fill="#E2E2F0" height="90.9064" rx="4.1667" ry="4.1667" style="stroke:#181818;stroke-width:0.8333;" width="329.6287" x="137.5041" y="118.3333"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="93.3329" x="255.652" y="157.0665">&#24037;&#20855;&#39029;&#38754;</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="306.2954" x="149.1708" y="190.8531">&#65288;&#20363;&#22914; WorkLog/Stockpile&#65289;</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="ToolUI" id="part2-tail"><rect fill="#E2E2F0" height="90.9064" rx="4.1667" ry="4.1667" style="stroke:#181818;stroke-width:0.8333;" width="329.6287" x="137.5041" y="1655.5993"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="93.3329" x="255.652" y="1694.3325">&#24037;&#20855;&#39029;&#38754;</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="306.2954" x="149.1708" y="1728.119">&#65288;&#20363;&#22914; WorkLog/Stockpile&#65289;</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="AiSvc" id="part3-head"><rect fill="#E2E2F0" height="57.1199" rx="4.1667" ry="4.1667" style="stroke:#181818;stroke-width:0.8333;" width="123.2229" x="661.644" y="152.1199"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="99.8896" x="673.3106" y="190.8531">AiService</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="AiSvc" id="part3-tail"><rect fill="#E2E2F0" height="57.1199" rx="4.1667" ry="4.1667" style="stroke:#181818;stroke-width:0.8333;" width="123.2229" x="661.644" y="1655.5993"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="99.8896" x="673.3106" y="1694.3325">AiService</text></g><g class="participant participant-head" data-entity-uid="part4" data-qualified-name="AiCfg" id="part4-head"><rect fill="#E2E2F0" height="57.1199" rx="4.1667" ry="4.1667" style="stroke:#181818;stroke-width:0.8333;" width="193.6427" x="913.076" y="152.1199"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="170.3093" x="924.7426" y="190.8531">AiConfigService</text></g><g class="participant participant-tail" data-entity-uid="part4" data-qualified-name="AiCfg" id="part4-tail"><rect fill="#E2E2F0" height="57.1199" rx="4.1667" ry="4.1667" style="stroke:#181818;stroke-width:0.8333;" width="193.6427" x="913.076" y="1655.5993"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="170.3093" x="924.7426" y="1694.3325">AiConfigService</text></g><g class="participant participant-head" data-entity-uid="part5" data-qualified-name="Client" id="part5-head"><rect fill="#E2E2F0" height="57.1199" rx="4.1667" ry="4.1667" style="stroke:#181818;stroke-width:0.8333;" width="166.7627" x="1123.3853" y="152.1199"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="143.4294" x="1135.052" y="190.8531">OpenAiClient</text></g><g class="participant participant-tail" data-entity-uid="part5" data-qualified-name="Client" id="part5-tail"><rect fill="#E2E2F0" height="57.1199" rx="4.1667" ry="4.1667" style="stroke:#181818;stroke-width:0.8333;" width="166.7627" x="1123.3853" y="1655.5993"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="143.4294" x="1135.052" y="1694.3325">OpenAiClient</text></g><g class="participant participant-head" data-entity-uid="part6" data-qualified-name="Api" id="part6-head"><rect fill="#E2E2F0" height="90.9064" rx="4.1667" ry="4.1667" style="stroke:#181818;stroke-width:0.8333;" width="391.5319" x="1441.9043" y="118.3333"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="172.876" x="1551.2323" y="157.0665">OpenAI &#20860;&#23481; API</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="368.1985" x="1453.571" y="190.8531">&#65288;BaseUrl/v1/chat/completions&#65289;</text></g><g class="participant participant-tail" data-entity-uid="part6" data-qualified-name="Api" id="part6-tail"><rect fill="#E2E2F0" height="90.9064" rx="4.1667" ry="4.1667" style="stroke:#181818;stroke-width:0.8333;" width="391.5319" x="1441.9043" y="1655.5993"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="172.876" x="1551.2323" y="1694.3325">OpenAI &#20860;&#23481; API</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="23.3333" lengthAdjust="spacing" textLength="368.1985" x="1453.571" y="1728.119">&#65288;BaseUrl/v1/chat/completions&#65289;</text></g><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg1"><polygon fill="#181818" points="282.3185,262.2797,298.9852,268.9464,282.3185,275.6131,288.9852,268.9464" style="stroke:#181818;stroke-width:1.6667;"/><line style="stroke:#181818;stroke-width:1.6667;" x1="36.6666" x2="292.3185" y1="268.9464" y2="268.9464"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="12.7834" x="48.3332" y="259.3731">1</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="206.2019" x="67.7833" y="259.3731">&#28857;&#20987;&#8220;AI &#29983;&#25104;/&#35299;&#26512;&#8221;</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg2"><line style="stroke:#181818;stroke-width:1.6667;" x1="719.9221" x2="703.2554" y1="355.0265" y2="348.3598"/><line style="stroke:#181818;stroke-width:1.6667;" x1="719.9221" x2="703.2554" y1="355.0265" y2="361.6931"/><line style="stroke:#181818;stroke-width:1.6667;" x1="302.3185" x2="721.5888" y1="355.0265" y2="355.0265"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="12.7834" x="313.9852" y="329.7664">2</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="348.3569" x="333.4352" y="314.0798">chatText(prompt, systemPrompt?,</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="356.6336" x="338.2885" y="345.4531">history?, responseFormat, timeout)</text></g><g class="message" data-entity-1="part3" data-entity-2="part4" id="msg3"><polygon fill="#181818" points="989.8973,403.0665,1006.564,409.7331,989.8973,416.3998,996.564,409.7331" style="stroke:#181818;stroke-width:1.6667;"/><line style="stroke:#181818;stroke-width:1.6667;" x1="723.2554" x2="999.8973" y1="409.7331" y2="409.7331"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="12.7834" x="734.9221" y="400.1598">3</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="110.8034" x="754.3721" y="400.1598">&#35835;&#21462; config</text></g><path d="M87.5041,434.7331 L191.2558,434.7331 L191.2558,452.7732 L174.5892,469.4398 L87.5041,469.4398 L87.5041,434.7331" fill="#EEEEEE" style="stroke:#000000;stroke-width:2.5;"/><rect fill="none" height="939.2926" style="stroke:#000000;stroke-width:2.5;" width="1779.2654" x="87.5041" y="434.7331"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="28.7517" x="112.5041" y="461.5332">alt</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="18.3333" font-weight="bold" lengthAdjust="spacing" textLength="267.4997" x="216.2558" y="459.333">[&#26410;&#37197;&#32622;&#25110; config.isValid=false]</text><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg4"><polygon fill="#181818" points="320.6518,537.0664,303.9852,543.733,320.6518,550.3997,313.9852,543.733" style="stroke:#181818;stroke-width:1.6667;"/><line style="stroke:#181818;stroke-width:1.6667;stroke-dasharray:3.3333,3.3333;" x1="310.6518" x2="721.5888" y1="543.733" y2="543.733"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="12.7834" x="330.6518" y="518.473">4</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="334.0786" x="350.1019" y="502.7863">throw AiNotConfiguredException</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="286.8237" x="350.1019" y="534.1597">&#65288;UI &#36127;&#36131;&#25552;&#31034;&#29992;&#25143;&#21435;&#35774;&#32622;&#39029;&#65289;</text></g><line style="stroke:#000000;stroke-width:1.6667;stroke-dasharray:3.3333,3.3333;" x1="87.5041" x2="1866.7695" y1="558.733" y2="558.733"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="18.3333" font-weight="bold" lengthAdjust="spacing" textLength="87.1927" x="95.8375" y="579.9995">[&#37197;&#32622;&#21512;&#27861;]</text><g class="message" data-entity-1="part3" data-entity-2="part3" id="msg5"><line style="stroke:#181818;stroke-width:1.6667;" x1="723.2554" x2="793.2554" y1="659.6929" y2="659.6929"/><line style="stroke:#181818;stroke-width:1.6667;" x1="793.2554" x2="793.2554" y1="659.6929" y2="681.3596"/><line style="stroke:#181818;stroke-width:1.6667;" x1="724.9221" x2="793.2554" y1="681.3596" y2="681.3596"/><polygon fill="#181818" points="741.5888,674.6929,724.9221,681.3596,741.5888,688.0262,734.9221,681.3596" style="stroke:#181818;stroke-width:1.6667;"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="12.7834" x="734.9221" y="634.4329">5</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="147.0951" x="754.3721" y="618.7462">&#32452;&#35013; messages</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="243.8585" x="754.3721" y="650.1196">(system + history + user)</text></g><g class="message" data-entity-1="part3" data-entity-2="part5" id="msg6"><line style="stroke:#181818;stroke-width:1.6667;" x1="1203.4333" x2="1186.7667" y1="736.0663" y2="729.3996"/><line style="stroke:#181818;stroke-width:1.6667;" x1="1203.4333" x2="1186.7667" y1="736.0663" y2="742.7329"/><line style="stroke:#181818;stroke-width:1.6667;" x1="723.2554" x2="1205.1" y1="736.0663" y2="736.0663"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="12.7834" x="734.9221" y="726.4929">6</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="339.2352" x="754.3721" y="726.4929">chatCompletions(config, request)</text></g><g class="message" data-entity-1="part5" data-entity-2="part6" id="msg7"><line style="stroke:#181818;stroke-width:1.6667;" x1="1634.3369" x2="1617.6702" y1="790.7729" y2="784.1063"/><line style="stroke:#181818;stroke-width:1.6667;" x1="1634.3369" x2="1617.6702" y1="790.7729" y2="797.4396"/><line style="stroke:#181818;stroke-width:1.6667;" x1="1206.7667" x2="1636.0036" y1="790.7729" y2="790.7729"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="12.7834" x="1218.4333" y="781.1996">7</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="360.642" x="1237.8834" y="781.1996">HTTP POST&#65288;Bearer + JSON body&#65289;</text></g><path d="M104.1708,815.7729 L207.9225,815.7729 L207.9225,833.813 L191.2558,850.4796 L104.1708,850.4796 L104.1708,815.7729" fill="#EEEEEE" style="stroke:#000000;stroke-width:2.5;"/><rect fill="none" height="546.5862" style="stroke:#000000;stroke-width:2.5;" width="1745.932" x="104.1708" y="815.7729"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="28.7517" x="129.1708" y="842.573">alt</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="18.3333" font-weight="bold" lengthAdjust="spacing" textLength="120.9625" x="232.9225" y="840.3728">[HTTP &#38750; 2xx]</text><g class="message" data-entity-1="part6" data-entity-2="part5" id="msg8"><polygon fill="#181818" points="1225.1,886.7328,1208.4333,893.3995,1225.1,900.0661,1218.4333,893.3995" style="stroke:#181818;stroke-width:1.6667;"/><line style="stroke:#181818;stroke-width:1.6667;stroke-dasharray:3.3333,3.3333;" x1="1215.1" x2="1636.0036" y1="893.3995" y2="893.3995"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="12.7834" x="1235.1" y="883.8261">8</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="241.4752" x="1254.55" y="883.8261">error(statusCode, body)</text></g><g class="message" data-entity-1="part5" data-entity-2="part2" id="msg9"><polygon fill="#181818" points="320.6518,972.8129,303.9852,979.4795,320.6518,986.1462,313.9852,979.4795" style="stroke:#181818;stroke-width:1.6667;"/><line style="stroke:#181818;stroke-width:1.6667;stroke-dasharray:3.3333,3.3333;" x1="310.6518" x2="1205.1" y1="979.4795" y2="979.4795"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="12.7834" x="330.6518" y="954.2195">9</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="217.2952" x="350.1019" y="938.5328">throw AiApiException</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="356.807" x="350.1019" y="969.9062">&#65288;message &#20174; error.message &#25552;&#21462;&#65289;</text></g><line style="stroke:#000000;stroke-width:1.6667;stroke-dasharray:3.3333,3.3333;" x1="104.1708" x2="1850.1028" y1="994.4795" y2="994.4795"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="18.3333" font-weight="bold" lengthAdjust="spacing" textLength="77.1644" x="112.5041" y="1015.746">[200 OK]</text><g class="message" data-entity-1="part6" data-entity-2="part5" id="msg10"><polygon fill="#181818" points="1225.1,1057.3994,1208.4333,1064.066,1225.1,1070.7327,1218.4333,1064.066" style="stroke:#181818;stroke-width:1.6667;"/><line style="stroke:#181818;stroke-width:1.6667;stroke-dasharray:3.3333,3.3333;" x1="1215.1" x2="1636.0036" y1="1064.066" y2="1064.066"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="25.5667" x="1235.1" y="1054.4927">10</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="358.6702" x="1267.3334" y="1054.4927">JSON {choices[0].message.content}</text></g><path d="M120.8375,1089.066 L224.5892,1089.066 L224.5892,1107.106 L207.9225,1123.7727 L120.8375,1123.7727 L120.8375,1089.066" fill="#EEEEEE" style="stroke:#000000;stroke-width:2.5;"/><rect fill="none" height="261.6264" style="stroke:#000000;stroke-width:2.5;" width="1185.9772" x="120.8375" y="1089.066"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="28.7517" x="145.8375" y="1115.866">alt</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="18.3333" font-weight="bold" lengthAdjust="spacing" textLength="125.4174" x="249.5892" y="1113.6659">[content &#32570;&#22833;]</text><g class="message" data-entity-1="part5" data-entity-2="part2" id="msg11"><polygon fill="#181818" points="320.6518,1191.3992,303.9852,1198.0659,320.6518,1204.7326,313.9852,1198.0659" style="stroke:#181818;stroke-width:1.6667;"/><line style="stroke:#181818;stroke-width:1.6667;stroke-dasharray:3.3333,3.3333;" x1="310.6518" x2="1205.1" y1="1198.0659" y2="1198.0659"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="25.5667" x="330.6518" y="1172.8059">11</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="217.2952" x="362.8852" y="1157.1192">throw AiApiException</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="213.8069" x="362.8852" y="1188.4926">&#8220;&#21709;&#24212;&#32570;&#23569; content&#8221;</text></g><line style="stroke:#000000;stroke-width:1.6667;stroke-dasharray:3.3333,3.3333;" x1="120.8375" x2="1306.8147" y1="1213.0659" y2="1213.0659"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="18.3333" font-weight="bold" lengthAdjust="spacing" textLength="125.4174" x="129.1708" y="1234.3324">[content &#23384;&#22312;]</text><g class="message" data-entity-1="part5" data-entity-2="part3" id="msg12"><polygon fill="#181818" points="741.5888,1275.9857,724.9221,1282.6524,741.5888,1289.3191,734.9221,1282.6524" style="stroke:#181818;stroke-width:1.6667;"/><line style="stroke:#181818;stroke-width:1.6667;stroke-dasharray:3.3333,3.3333;" x1="731.5888" x2="1205.1" y1="1282.6524" y2="1282.6524"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="25.5667" x="751.5888" y="1273.0791">12</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="183.6251" x="783.8221" y="1273.0791">AiChatResult(text)</text></g><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg13"><polygon fill="#181818" points="320.6518,1330.6924,303.9852,1337.3591,320.6518,1344.0258,313.9852,1337.3591" style="stroke:#181818;stroke-width:1.6667;"/><line style="stroke:#181818;stroke-width:1.6667;stroke-dasharray:3.3333,3.3333;" x1="310.6518" x2="721.5888" y1="1337.3591" y2="1337.3591"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" font-weight="bold" lengthAdjust="spacing" textLength="25.5667" x="330.6518" y="1327.7858">13</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="107.3368" x="362.8852" y="1327.7858">return text</text></g><path d="M1215,1394.0258 L1215,1504.0258 L1533.3333,1504.0258 L1533.3333,1410.6924 L1516.6667,1394.0258 L1215,1394.0258" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.8333;"/><path d="M1516.6667,1394.0258 L1516.6667,1410.6924 L1533.3333,1410.6924 L1516.6667,1394.0258" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.8333;"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="86.6668" x="1225" y="1427.4925">&#23433;&#20840;&#28857;&#65306;</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="284.462" x="1225" y="1458.8658">- API Key &#20165;&#36890;&#36807; Header &#21457;&#36865;</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="237.5319" x="1225" y="1490.2392">- &#19994;&#21153;/&#26085;&#24535;&#36991;&#20813;&#36755;&#20986;&#23494;&#38053;</text><path d="M1403.3333,1521.4792 L1403.3333,1631.4792 L1868.3333,1631.4792 L1868.3333,1538.1458 L1851.6667,1521.4792 L1403.3333,1521.4792" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.8333;"/><path d="M1851.6667,1521.4792 L1851.6667,1538.1458 L1868.3333,1538.1458 L1851.6667,1521.4792" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.8333;"/><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="130.0002" x="1413.3333" y="1554.9459">&#24615;&#33021;&#29942;&#39048;&#28857;&#65306;</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="252.0053" x="1413.3333" y="1586.3192">- &#32593;&#32476; RTT + &#27169;&#22411;&#25512;&#29702;&#32791;&#26102;</text><text fill="#000000" font-family="'Noto Sans CJK SC'" font-size="21.6667" lengthAdjust="spacing" textLength="431.4271" x="1413.3333" y="1617.6926">- max_tokens/response_format &#20250;&#24433;&#21709;&#32791;&#26102;</text><?plantuml-src bLHRJnj757xVNt6Q9wDWByrZfJgYg5Lege22QHzAXJRhmHwntjdkZ8cjgf9pSN0Q0QRGKY4W8eJ6gbH8r3GKRE2_HCnUdlWBFRCNBYalVV1gP_oTxpldE-ViHzGshMgHG96PN3TSiqm5CKNL9NgH6YNNg71zaekwHN9EjM9fWWgBmE0moDtzO7SzUFt8N-w4IqUdlTOW7IFk33L9pYmRea1guhJtLDECgc1sjNAFk1gVfhPZ82Vmib5azwbTWYd3uWHHfc0k89VNsWE3mpX7F685DQbZs0AkoRrjsTmBD_yErrzCsAXtSlHC_luGlc7kz5Uif8y9Pauxr2AeUarH51YpneSlavpb627mD6D-21XYzXGjNOODJPKkmqOSOkErHOaj8apyUWK8dMhsvCu-38uEHsb_Pd0oxbhwpCUwyaatMSMnYA3CvcdcWmxLDEK0PFD96V09-0_tvMptVMCDEVtbvrwhhGUljhoDzll6kfQWilbyN1NYqova71SbH3_mEXUaCXgTRlPFs52c75slt-m7bt074o1VCBTY85JG2c5LqQTfCLis7xk0jC5kLoxy2cPaasPO0horFyBcd7-uuxNI-npbNniMBNuQjnUIfB8Nwn5bbzt7F-um4NkEGrVyl6OIHvaHUOMuuEtpuEsMjz3sNnx4uo7dky7E4ShXBAW98wW0SGAotVB--kLSxjmCl_ius6f2XN1kb0YVi3En6t0zTG7VgcXvtuNeVDBMnCoXyqvbuZALSTzN2HSgAi56BN0enjmg54PXT6IieBfE31VxUHs-71kv0_TOiQvI1r3-HRXmVGDkr6fu1L6uikfCdRWkSpDS6ABAXrYHz4SCVH4ubRtAMYIwR6XIFvnqvsFIN7g33cDRuwGYHsyC3C38xQlpYOhumImpN17-xS1tAKiERH48-J4AKxKb5-3t3kJBDz7r_qaPfrqkpSc3PHN_UZ6bKnElYA94KmdvvszohVDVYNG4S82nYNS9hreY8t0n-XBi5RFf4lm4sg1GiP1TrEAd-cas4mHSMYeBO5FfxWF8dQUosS4zFUsjuZ6hTXvkaphQtGmRgy7nBDmYHX7dG2uiXeq74URadrNvqwRkhMpBuvNmmR5ipWL7ItBsGEu-2N_ULeAWz19LDeFXwWC1u3LU1OyE_QLtuOlM1L7_SD7lhi7TGW77pUjioerdtdp7Rpy96YlUohi8Kp5gau9D4vlhwUfFJaMx3oUzLNdu1brFu6Vw_m80?></g></svg>